## Introduction     
 
## Description 
Azure antimalware agent installation on vms which is a signle-agent solution for the applicaions . This module includes Microsoft Security Essentials [MSE],deploy IaaSAntimalware  agent installation and Update antivirus definitions

## Usage
1:- 
 
module "policyset_definitions" {
  source = "./modules/policyset-definitions"
}

module "policy_assignments" {
  source = "./modules/policy-assignments"

  anti_malware_policyset_id        = module.policyset_definitions.anti_malware_policyset_id
 }
 


resource "azurerm_subscription_policy_assignment" "anti_malware" {
  name                 = "anti_malware"
  subscription_id      = data.azurerm_subscription.current.id
  policy_definition_id = var.anti_malware_policyset_id
  description          = "Assignment of the Anti Malware initiative to subscription."
  display_name         = "Anti Malware"
  location             = "eastus2"
  identity { type = "SystemAssigned" }
}


## Prerequisites 
 Null 
<!-- BEGIN_TF_DOCS -->
 
## Terraform parent module files

* `main.tf`
* `outputs.tf`
* `variables.tf`

## Providers

| Name | Version |
|------|---------|
| <a name="provider_azurerm"></a> [azurerm](#provider\_azurerm) | n/a |



## Modules
module "policy_assignments" {
  source = "./modules/policy-assignments"

  anti_malware_policyset_id        = module.policyset_definitions.anti_malware_policyset_id
 }




## Resources

| Name | Type |
|------|------|
| [azurerm_resources](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/data-sources/resources) | data source |

## Terraform input variables (variables.tf)

* Usable if you have setup an Azure service principal for authentication as per example usage instructions below.

| Name               | Description                           | Type     | Default Value
|:-------------------|:--------------------------------------|:---------|:--------------
| `subscription_id`  | Your Azure Subscription ID            | `string` | null


## Terraform output variables (outputs.tf)

| Name           | Description        | Value
|:---------------|:-------------------|:----------
| `Anti_Malware_assignment_id `        | The policy assignment id for Anti_Malware            | module.policy_assignments.anti_malware_assignment_id
| `Anti_Malware_assignment_identity`   | The policy assignment identity for Anti_Malware      | module.policy_assignments.anti_malware_identity


## Related documentation

- Microsoft  documentation Anti_Malware :  ( https://learn.microsoft.com/en-us/azure/security/fundamentals/antimalware)

